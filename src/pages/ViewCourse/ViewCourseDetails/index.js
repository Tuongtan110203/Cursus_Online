import React, { useState, useEffect } from "react";
import classNames from "classnames/bind";
import styles from "./ViewCourseDetails.module.scss";
//import image
import course10 from "~/images/course10.jpg";
import course11 from "~/images/course11.jpg";
import course12 from "~/images/course12.jpg";
import course13 from "~/images/course13.jpg";
import tuong from "~/images/tuong.jpg";
import avatar from "~/images/avatar.png";
import anonymous from "~/images/anonymous.png";
import lessonv1 from "~/images/lessonv1.png";
import student from "~/images/student.png";
import durationtime from "~/images/durationtime.png";
// import Header vÃ  Footer
import RelateCourse from "~/pages/ViewCourse/ViewCourseDetails/RelateCourse";
import Header from "~/components/Layout/Header";
import Footer from "~/components/Layout/Footer";
//import Link
import { Link } from "react-router-dom";
//import tippy
import Tippy from "@tippyjs/react";
import "tippy.js/dist/tippy.css";
import "~/components/Layout/Header/tippyStyles.module.scss";
import { Breadcrumbs, Typography } from "@mui/material";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import Rating from "@mui/material/Rating";
import {
  faAngleDown,
  faAngleUp,
  faCaretDown,
  faCaretUp,
  faCertificate,
  faChevronRight,
  faCirclePlay,
  faClock,
  faClockRotateLeft,
  faList,
  faQuestionCircle,
  faStar,
  faStarHalfAlt,
  faTriangleExclamation,
  faUser,
  faHeart,
} from "@fortawesome/free-solid-svg-icons";
//import avatar
import chapter from "~/images/chapter.png";
import lesson from "~/images/lesson.png";
import quiz from "~/images/quiz.png";

const cx = classNames.bind(styles);

function ViewCourseDetails() {
  const [courses, setCourses] = useState([
    {
      id: 1,
      image: course10,
      title: "Build Automatic Money Making Machine on Shopee",
      lesson: 12,
      VideoTime: 120,
      Level: "Beginner",
      Chapter: 3,
      Category: "Programming",
      oldPrice: 99,
      newPrice: 49,
      instructor: {
        name: "Tan Tuong",
        image: tuong,
      },
    },
    {
      id: 2,
      image: course11,
      title: "100 Days of Code: The Complete Python Pro Bootcamp",
      lesson: 13,
      VideoTime: 130,
      Level: "Intermediate",
      Category: "Designer",
      oldPrice: 99,
      newPrice: 49,
      Chapter: 4,
      instructor: {
        name: "Joe Smith",
        image: avatar,
      },
    },
    {
      id: 3,
      image: course12,
      title: "Become a Certified Web Developer: HTML, CSS and JavaScript",
      lesson: 12,
      VideoTime: 180,
      Level: "Expert",
      Chapter: 7,
      Category: "Sale",
      oldPrice: 99,
      newPrice: 49,
      instructor: {
        name: "Joe Smith 1",
        image: anonymous,
      },
    },
    {
      id: 4,
      image: course13,
      title: "Become a Certified Web Developer: HTML, CSS and JavaScript",
      lesson: 12,
      VideoTime: 180,
      Level: "Expert",
      Chapter: 7,
      Category: "Sale",
      oldPrice: 99,
      newPrice: 49,
      instructor: {
        name: "Joe Smith 1",
        image: anonymous,
      },
    },
  ]);
  const [comments, setComments] = useState([
    {
      userName: "John Doe",
      date: "2024-11-14T12:00:00Z",
      rating: 5,
      text: "This course was amazing! The instructor explained everything clearly.",
      replies: [],
    },
    {
      userName: "Jane Smith",
      date: "2024-11-12T10:30:00Z",
      rating: 4,
      text: "Good course but I think the examples could be more detailed.",
      replies: [
        {
          userName: "Instructor",
          date: "2024-11-13T11:00:00Z",
          text: "Thank you for the feedback, Jane! I'll add more examples in the future.",
        },
      ],
    },
  ]);

  const [openSections, setOpenSections] = useState({
    section1: false,
    section2: false,
    section3: false,
  });
  const [value, setValue] = useState(4.5);
  const ratingCounts = [10, 5, 2, 1, 3];

  const [showMoreInstructor, setShowMoreInstructor] = useState(false);
  const [replyTexts, setReplyTexts] = useState({});
  const [rating, setRating] = useState(0);
  const [answer, setAnswer] = useState("");
  const [question, setQuestion] = useState({});
  const [errorMessage, setErrorMessage] = useState("");

  const questions = [
    { question: "9 - 3 = ?", answer: "6" },
    { question: "5 + 2 = ?", answer: "7" },
    { question: "10 / 2 = ?", answer: "5" },
    { question: "4 * 2 = ?", answer: "8" },
  ];

  const handleReplyChange = (e, index) => {
    setReplyTexts({
      ...replyTexts,
      [index]: e.target.value,
    });
  };
  const handleReply = (index) => {
    const replyText = replyTexts[index]?.trim();
    if (!replyText) return;

    const updatedComments = [...comments];
    updatedComments[index].replies.push({
      userName: "You",
      date: new Date().toISOString(),
      text: replyText,
    });

    setComments(updatedComments);
    setReplyTexts({
      ...replyTexts,
      [index]: "",
    });
  };

  useEffect(() => {
    const randomQuestion =
      questions[Math.floor(Math.random() * questions.length)];
    setQuestion(randomQuestion);
  }, []);

  const handleSubmit = (e) => {
    e.preventDefault();
    if (!answer) {
      setErrorMessage("Please enter an answer.");
    } else if (answer === question.answer) {
      setErrorMessage("");
      alert("Submitted successfully!");
    } else {
      setErrorMessage("Incorrect answer, please try again.");
    }
  };

  const toggleSection = (section) => {
    setOpenSections((prevState) => ({
      ...prevState,
      [section]: !prevState[section],
    }));
  };
  const toggleShowMoreInstructor = () => {
    setShowMoreInstructor((prevState) => !prevState);
  };
  const handleClick = (index) => {
    setRating(index);
  };
  return (
    <div>
      <Header />
      <div className={cx("wrapper-course-details")}>
        <div className={cx("course-details-header")}>
          <div className={cx("container")}>
            <div className={cx("row")}>
              <div className={cx("col-8")}>
                <div className={cx("course-detail-title")}>
                  <Breadcrumbs aria-label="breadcrumb">
                    <Link underline="hover" color="inherit" to="/">
                      Home
                    </Link>
                    <Link underline="hover" color="inherit" to="/view-course">
                      Courses
                    </Link>
                    <Typography color="white">
                      Build an automatic money making machine on Shopee 2020
                    </Typography>
                  </Breadcrumbs>
                  <h4>
                    Build an automatic money making machine on Shopee 2020
                  </h4>
                  <p>
                    Instructions for setting up a perfect live stream. Secrets
                    to closing deals quickly and effectively to increase sales
                    revenue by 5-10 times without spending any advertising costs
                  </p>
                  <span style={{ color: "orange" }}>
                    4.5 &nbsp;
                    <FontAwesomeIcon
                      icon={faStar}
                      style={{ color: "orange" }}
                    />
                    <FontAwesomeIcon
                      icon={faStar}
                      style={{ color: "orange" }}
                    />
                    <FontAwesomeIcon
                      icon={faStar}
                      style={{ color: "orange" }}
                    />
                    <FontAwesomeIcon
                      icon={faStar}
                      style={{ color: "orange" }}
                    />
                    <FontAwesomeIcon
                      icon={faStarHalfAlt}
                      style={{ color: "orange" }}
                    />
                  </span>
                  &nbsp;
                  <span style={{ color: "black" }}>(3999 ratings)</span>&nbsp;
                  <span>(39999)</span>
                  <div className={cx("row", "mt-2")}>
                    <div className={cx("col-6")}>
                      <FontAwesomeIcon
                        icon={faUser}
                        style={{ color: "white" }}
                      />
                      <span> Instructor</span>
                      <p>Nguyen Tan Tuong</p>
                    </div>
                    <div className={cx("col-6")}>
                      <FontAwesomeIcon
                        icon={faList}
                        style={{ color: "white" }}
                      />
                      <span> Category</span>
                      <p>Parenting</p>
                    </div>
                  </div>
                  <div className={cx("create-date")}>
                    <FontAwesomeIcon
                      icon={faTriangleExclamation}
                      style={{ color: "white" }}
                    />
                    &nbsp;
                    <span>Create Date 2024/10/17</span>
                  </div>
                </div>
              </div>
              <div className={cx("col-4")}></div>
            </div>
          </div>
        </div>
        <div className={cx("container")}>
          <div className="course-details-content">
            <div className={cx("row")}>
              <div className={cx("col-8")}>
                <div className={cx("course-details-video")}>
                  <div className={cx("intro-video")}>
                    <h5>Introduce Video</h5>
                  </div>
                  <div className={cx("video")}>
                    <iframe
                      width="100%"
                      height="400"
                      src="https://www.youtube.com/embed/gKGITHG8dYs"
                      title="YouTube video player"
                      frameBorder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                      allowFullScreen
                    ></iframe>
                  </div>
                </div>
                <div className={cx("details-course-chapter")}>
                  <div className={cx("intro-course")}>
                    <h5>Course Introduction</h5>
                    <p>
                      BÃ¡n hÃ ng online ngÃ y cÃ ng phá» biáº¿n hiá»n nay, nhÆ°ng cÃ ng cÃ³
                      nhiá»u ngÆ°á»i bÃ¡n thÃ¬ thá» trÆ°á»ng cáº¡nh tranh láº¡i cÃ ng cao.
                    </p>
                    <p>
                      Má»t cÃ¡ch thá»©c tiáº¿p cáº­n khÃ¡ch hÃ ng tá»t nháº¥t cá»§a viá»c bÃ¡n
                      hÃ ng onlie lÃ  livestream trÃªn cÃ¡c trang máº¡ng xÃ£ há»i, Äáº·c
                      biá»t lÃ  facebook. NhÆ°ng khÃ´ng pháº£i ai cÅ©ng biáº¿t cÃ¡ch váº­n
                      dá»¥ng livestream má»t cÃ¡ch hiá»u quáº£.
                    </p>
                    <p>
                      Äá» há»c bÃ¡n hÃ ng online hiá»u quáº£ tá»« viá»c livestream chÃºng
                      ta pháº£i cÃ³ ÄÆ°á»£c nhá»¯ng kiáº¿n thá»©c cáº§n thiáº¿t, khoa há»c Äá»
                      tiáº¿p cáº­n cÅ©ng nhÆ° thu hÃºt khÃ¡ch hÃ ng vÃ o sáº£n pháº©m kinh
                      doanh cá»§a mÃ¬nh.
                    </p>
                    <p>
                      KhÃ³a há»c thá»±c chiáº¿n táº¡i nhÃ 
                      <b>âSÃ¡t thá»§ bÃ¡n hÃ ng Livestreamâ</b>
                      do tháº§y Pháº¡m ThÃ nh Long giáº£ng dáº¡y sáº½ giÃºp báº¡n cÃ³ ÄÆ°á»£c
                      nhá»¯ng kiáº¿n thá»©c, ká»¹ nÄng cáº§n thiáº¿t vÃ  bÃ­ quyáº¿t hiá»u quáº£
                      nháº¥t Äá» báº¡n cÃ³ doanh thu vÆ°á»£t báº­c tá»« viá»c livestream cá»§a
                      mÃ¬nh.
                    </p>
                    <p>KhÃ³a há»c gá»m nhá»¯ng ná»i dung gÃ¬?</p>
                    <b>
                      <i>
                        <p>
                          Pháº§n 1: Tá»ng há»£p cÃ¡c yáº¿u tá» tiáº¿p cáº­n khÃ¡ch hÃ ng khi
                          livestream
                        </p>
                      </i>
                    </b>
                    <p>
                      Nhá»¯ng yáº¿u tá» khi livestream báº¡n pháº£i lÆ°u Ã½ Äáº» cÃ³ thá» tiáº¿p
                      cáº­n ÄÆ°á»£c tá»i khÃ¡ch hÃ ng cá»§a mÃ¬nh: cÃ¡ch Äá» táº¡o nÃªn bá»©c áº£nh
                      Äáº¹p, cÃ¡c bÆ°á»c chuáº©n bá» Äá» livestream hiá»u quáº£ nháº¥tâ¦
                    </p>
                    <b>
                      <i>
                        <p>
                          Pháº§n 2: Nhá»¯ng Äiá»u cáº§n lÆ°u Ã½ Äá» livestream háº¥p dáº«n
                        </p>
                      </i>
                    </b>
                    <p>
                      Chia sáº» cho báº¡n: 7 má»¥c tiÃªu marketing trÆ°á»c khi livestream
                      Äá» báº¡n cÃ³ thá» bÃ¡n ÄÆ°á»£c hÃ ng tá»t nháº¥t cÃ³ thá», máº¹o Äá» cÃ³ thá»
                      thu hÃºt ÄÆ°á»£c lÆ°á»£t xem, lÆ°á»£t share trÃªn Facebook, chiáº¿n
                      lÆ°á»£c vÃ  bÃ­ kÃ­p sá»­ dá»¥ng clip khi lÃ m viá»c vá»i ngÆ°á»i cÃ³ áº£nh
                      hÆ°á»ngâ¦
                    </p>
                    <b>
                      <i>
                        <p>Pháº§n 3: Nhá»¯ng máº¹o cáº§n thiáº¿t khi livestream</p>
                      </i>
                    </b>
                    <p>
                      BÃ­ quyáº¿t Äá» báº¡n luÃ´n tá»± tin vÃ  thoáº£i mÃ¡i khi tiáº¿n hÃ ng
                      livestream bÃ¡n hÃ ng, cÃ¹ng vá»i ÄÃ³ lÃ  nhá»¯ng chia sáº» vá» cÃ¡c
                      kÃªnh máº¡ng xÃ£ há»i mÃ  báº¡n khÃ´ng nÃªn bá» lá»¡ khi livestream bÃ¡n
                      hÃ ng.
                    </p>
                    <b>
                      <i>
                        <p>
                          Pháº§n 4: Äá» biáº¿n livestream thÃ nh má»t siÃªu pháº©m tÄng
                          doanh thu cá»§a báº¡n
                        </p>
                      </i>
                    </b>
                    <p>
                      Nhá»¯ng yáº¿u tá» ká»¹ thuáº­t Äá» báº¡n cÃ³ thá» livestream hiá»u quáº£
                      nháº¥t, cÃ¡ch Äá» lÃªn ká»ch báº£n bÃ¡n hÃ ng, ná»i dung Ã½ tÆ°á»ng
                      trÃºng tÃ¢m lÃ½ khÃ¡ch hÃ ng khi livestream, máº¹o Äá» âbáº¯t trendâ
                      hiá»u quáº£ há» trá»£ tÃ­ch cá»±c cÃ´ng viá»c livestream bÃ¡n hÃ ng, bÃ­
                      quyáº¿t Äá» cÃ³ ÄÆ°á»£c Module ná»i dung thu hÃºt, hoÃ n chá»nhâ¦
                    </p>
                    <p>
                      CÃ³ quÃ¡ nhiá»u kiáº¿n thá»©c dÃ nh cho báº¡n há»c chiáº¿n lÆ°á»£c kinh
                      doanh gÃ³i gá»n trong má»t khÃ³a há»c! Nhanh chÃ³ng tham gia
                      ngay khÃ³a há»c <b>âSÃ¡t thá»§ bÃ¡n hÃ ng Livestreamâ</b> cá»§a
                      tháº§y{" "}
                      <span style={{ color: "orange" }}>Pháº¡m ThÃ nh Long</span>{" "}
                      Äá» trá» thÃ nh SÃ¡t thá»§ bÃ¡n hÃ ng Livestream vá»i cÃ¡c tuyá»t
                      chiÃªu biáº¿n livestream thÃ nh má»t SiÃªu pháº©m Äá» tÄng doanh
                      thu hoÃ n háº£o nháº¥t!
                    </p>
                  </div>
                </div>
                <div className={cx("details-content-couse")}>
                  <h5>Content Course</h5>
                  <div
                    className={cx("content-course")}
                    onClick={() => toggleSection("section1")}
                  >
                    <FontAwesomeIcon
                      icon={openSections.section1 ? faAngleUp : faAngleDown}
                    />
                    <i>
                      <b>
                        <span> Pháº§n 1: Tá»ng quan (2 bÃ i giáº£ng)</span>
                      </b>
                    </i>
                  </div>
                  {openSections.section1 && (
                    <div className={cx("lesson-list")}>
                      <div className="child-lesson">
                        <div>
                          <FontAwesomeIcon icon={faCirclePlay} />
                          <span>BÃ i giáº£ng 1: Giá»i thiá»u vá» kinh doanh</span>
                        </div>
                        <div>
                          <FontAwesomeIcon icon={faCirclePlay} />
                          <span>BÃ i giáº£ng 2: Chiáº¿n lÆ°á»£c tiáº¿p thá» hiá»u quáº£</span>
                        </div>
                      </div>
                      <div className="time-lesson">
                        <div className={cx("child-time")}>
                          <FontAwesomeIcon icon={faClock} />
                          <span>06:09</span>
                        </div>
                        <div className={cx("child-time")}>
                          <FontAwesomeIcon icon={faClock} />
                          <span>06:09</span>
                        </div>
                      </div>
                    </div>
                  )}
                  <div
                    className={cx("content-course")}
                    onClick={() => toggleSection("section2")}
                  >
                    <FontAwesomeIcon
                      icon={openSections.section2 ? faAngleUp : faAngleDown}
                    />
                    <i>
                      <b>
                        <span> Pháº§n 2: Tá»ng quan (2 bÃ i giáº£ng)</span>
                      </b>
                    </i>
                  </div>
                  {openSections.section2 && (
                    <div className={cx("lesson-list")}>
                      <div className="child-lesson">
                        <div>
                          <FontAwesomeIcon icon={faCirclePlay} />
                          <span>BÃ i giáº£ng 1: Giá»i thiá»u vá» kinh doanh</span>
                        </div>
                        <div>
                          <FontAwesomeIcon icon={faCirclePlay} />
                          <span>BÃ i giáº£ng 2: Chiáº¿n lÆ°á»£c tiáº¿p thá» hiá»u quáº£</span>
                        </div>
                      </div>
                      <div className="time-lesson">
                        <div className={cx("child-time")}>
                          <FontAwesomeIcon icon={faClock} />
                          <span>07:09</span>
                        </div>
                        <div className={cx("child-time")}>
                          <FontAwesomeIcon icon={faClock} />
                          <span>07:09</span>
                        </div>
                      </div>
                    </div>
                  )}
                </div>
                <div className={cx("info-instructor")}>
                  <h5>Infomation Instructor</h5>
                  <div className={cx("row")}>
                    <div className={cx("col-3")}>
                      <div className={cx("image-avatar")}>
                        <img
                          src={tuong}
                          alt="avatar"
                          className={cx("avatar")}
                        />
                      </div>
                    </div>
                    <div className={cx("col-9")}>
                      <div className={cx("content-instructor")}>
                        <b>
                          <span>Nguyen Tan Tuong</span>
                        </b>
                        <p>
                          Khá»i Äáº§u tá»« 2 bÃ n tay tráº¯ng vÃ  gáº§y gÃ², nÄm 1988, ba
                          bÃ¡n hÃ ng táº¡p hÃ³a á» chá»£, cÃ²n máº¹ tui xoay sá» tá»± há»c cáº¯t
                          may á» nhÃ , khi tiá»m may cÃ³ chÃºt uy tÃ­n, máº¹ má» thÃªm lá»p
                          dáº¡y cáº¯t may. Má»t Äá»©a bÃ© gÃ¡i 8 tuá»i lÃ  tui nÄm áº¥y, quan
                          sÃ¡t máº¹ lÃ m suá»t rá»i cÅ©ng cháº¥p chá»i chÃ¢n Äáº¡p mÃ¡y may
                          ÄÆ°á»£c 1 chiáº¿c Ã¡o 3 lá» cho Äá»©a em.
                        </p>
                        <p>
                          ÄÆ°á»£c vÃ i nÄm thÃ¬ máº¹ chuyá»n sang kinh doanh dá»ch vá»¥
                          âcho thuÃª bÃ n gháº¿, bÃ¡t ÄÄ©a, phÃ´ng báº¡t..â phá»¥c vá»¥ cÃ¡c
                          ÄÃ¡m hiáº¿u/há»/sá»± kiá»n. Sau 5-6 nÄm Än nÃªn lÃ m ra nhá»
                          nghá» nÃ y, máº¹ láº¡i ânÃ¢ng cáº¥pâ mÃ´ hÃ¬nh lÃªn 1 táº§m má»i,
                          chuyá»n sang bÃ¡n cÃ¡c máº·t hÃ ng Äá» gia dá»¥ng cao cáº¥p.
                        </p>
                        <p
                          className={showMoreInstructor ? "" : cx("blur-text")}
                        >
                          DÃ¹ lÃ m cÃ´ng viá»c gÃ¬, máº¹ luÃ´n tÃ¬m tÃ²i há»c há»i Äá» táº¡o sá»±
                          khÃ¡c biá»t cho riÃªng mÃ¬nh.
                        </p>
                        {showMoreInstructor && (
                          <>
                            <p>
                              Máº¹ khá»i nghiá»p láº¡i tá»« Äáº§u á» lá»©a tuá»i xáº¥p xá» 60.
                              Sáºµn niá»m Äam mÃª áº©m thá»±c sáº¡ch tá»« lÃ¢u, máº¹ lÃ  ngÆ°á»i
                              ráº¥t tinh táº¿ vÃ  kháº¯t khe trong viá»c lá»±a chá»n nhá»¯ng
                              thá»© tÆ°Æ¡i, ngon, tá»± nhiÃªn, vÃ  cÃ³ nguá»n gá»c, xuáº¥t xá»©
                              rÃµ rÃ ng. Tá»« nhá»¯ng nÄm 90s, máº¹ ÄÃ£ ânÃ³i khÃ´ngâ vá»i
                              gÃ  cÃ´ng nghiá»p, mÃ£i sau nÃ y tui thá»nh thoáº£ng lÃ©n
                              máº¹ Än KFC, má»i biáº¿t mÃ¹i vá» cá»§a chÃºng :D. Máº¹ cÅ©ng
                              ráº¥t nhiá»u láº§n khÃ´ng hÃ i lÃ²ng khi chÃºng tÃ´i sa vÃ o
                              nhá»¯ng quÃ¡n vá»a hÃ¨. ChÃºng tui má» máº¯t bá»i mÃ¹i thÆ¡m,
                              chá» cÃ³ máº¹ nhÃ¬n ra nhá»¯ng cháº¥t phá»¥ gia, thá»±c pháº©m
                              báº©nâ¦Äáº¿n táº­n bÃ¢y giá», máº¹ váº«n lÃ  nhÃ  tÃ i trá»£ thá»±c
                              pháº©m sáº¡ch cho chá» em chÃºng tui má»i thÃ¡ng.
                            </p>
                            <p>
                              Nháº­n tháº¥y yáº¿n sÃ o lÃ  máº·t hÃ ng thá»±c sá»± há»¯u Ã­ch cho
                              nhá»¯ng ngÆ°á»i sá»©c khá»e yáº¿u, cáº§n ÄÆ°á»£c bá»i bá» tÄng
                              sinh lá»±c, Äá» khÃ¡ng, máº¹ láº·n lá»i vÃ´ SÃ i GÃ²n (Cáº§n
                              Giá»), xuá»ng Tiá»n Giang (GÃ² CÃ´ng) Äá» tÃ¬m kiáº¿m cÆ¡
                              há»i há»£p tÃ¡c vá»i cÃ¡c nhÃ  nuÃ´i yáº¿n nháº±m Äáº£m báº£o ÄÆ°á»£c
                              ânguá»n gá»câ hÃ ng hÃ³a rÃµ rÃ ng vÃ  ÄÃ¡ng tin cáº­y.
                            </p>
                            <p>
                              Nhá»¯ng thá»© máº¹ bÃ¡n, lÃ  nhá»¯ng thá»© máº¹ ÄÃ£ tÃ¬m hiá»u ráº¥t
                              ká»¹, ráº¥t cÃ³ chiá»u sÃ¢u; lÃ  nhá»¯ng thá»© mÃ  cáº£ gia ÄÃ¬nh
                              tui Äá»u ÄÆ°á»£c thÆ°á»ng thá»©c thÆ°á»ng xuyÃªn. PhÆ°Æ¡ng chÃ¢m
                              kinh doanh cá»§a máº¹ 30 nÄm nay luÃ´n lÃ  âÄn tháº­t, lÃ m
                              tháº­tâ. Náº¿u cÃ³ dá»p ghÃ© thÄm cá»­a hÃ ng yáº¿n sÃ o Háº£o
                              ThÆ° (38A Quang Trung, Tp Háº£i DÆ°Æ¡ng), dÃ¹ báº¡n cÃ³ mua
                              hÃ ng hay khÃ´ng thÃ¬ luÃ´n ÄÆ°á»£c tiáº¿p ÄÃ³n niá»m ná». Máº¹
                              cáº§m tinh con chuá»t, trong nhÃ  luÃ´n chá»©a Äáº§y thá»±c
                              pháº©m, hoa quáº£ theo mÃ¹a, bÃ¡nh káº¹o cÃ¡c loáº¡i. Cháº¯c
                              cháº¯n, máº¹ sáº½ gá»t hoa quáº£ nhiá»t tÃ¬nh má»i khÃ¡ch, rÃ³t
                              nÆ°á»c pha trÃ â¦biáº¿t ÄÃ¢u chá»«ng, máº¹ cÃ²n má»i cáº£ yáº¿n
                              chÆ°ng cÅ©ng nÃªn. CÃ³ vá» khÃ¡ch Äáº¿n cá»­a hÃ ng, gáº·p máº¹
                              thÃ¢n tÃ¬nh há»i mua yáº¿n sÃ o vÃ  xÃºc Äá»ng ká» láº¡i cÃ¢u
                              chuyá»n vá» bÃ¡t yáº¿n chÆ°ng mÃ  máº¹ ÄÃ£ má»i cÃ´ áº¥y 1 nÄm
                              trÆ°á»c, cÃ´ áº¥y thá»±c sá»± xÃºc Äá»ng vÃ¬ ÄÃ³ lÃ  láº§n Äáº§u
                              tiÃªn ÄÆ°á»£c biáº¿t tháº¿ nÃ o lÃ  yáº¿n sÃ o.
                            </p>
                            <div className={cx("view-more")}>
                              <a href="view-instructor">View More</a>
                              <FontAwesomeIcon
                                className={cx("icon-view-more")}
                                icon={faChevronRight}
                              />
                            </div>
                          </>
                        )}
                      </div>
                      <div className={cx("show-more-less")}>
                        <a onClick={toggleShowMoreInstructor}>
                          {showMoreInstructor ? "Show Less" : "Show More"}
                        </a>
                        {showMoreInstructor && (
                          <FontAwesomeIcon icon={faCaretUp} />
                        )}
                        {!showMoreInstructor && (
                          <FontAwesomeIcon icon={faCaretDown} />
                        )}
                      </div>
                    </div>
                  </div>
                </div>
                <div className={cx("wrapper-rating")}>
                  <b>
                    <h5>Rating (0)</h5>
                  </b>
                  <div className={cx("body-rating")}>
                    <b>
                      <p>Your Review *</p>
                    </b>
                    <div>
                      {[...Array(5)].map((star, index) => {
                        const starIndex = index + 1;
                        return (
                          <span
                            key={index}
                            onClick={() => handleClick(starIndex)}
                          >
                            <FontAwesomeIcon
                              className={cx("star")}
                              icon={faStar}
                              color={
                                starIndex <= rating ? "#ffc107" : "#e4e5e9"
                              }
                              style={{ cursor: "pointer" }}
                            />
                          </span>
                        );
                      })}
                    </div>
                    <div className={cx("comment-rating")}>
                      <b>
                        <p>Your Comment</p>
                      </b>
                      <div className={cx("input-comment")}>
                        <textarea
                          name="input"
                          placeholder="Enter your comment..."
                        />
                      </div>
                    </div>
                    <div className="check-person">
                      <b>
                        <p>Please enter an answer in digits:</p>
                      </b>
                      <b>
                        <p>{question.question}</p>
                      </b>
                      <div className={cx("input-check-person")}>
                        <input
                          type="text"
                          name="input-check-person"
                          value={answer}
                          onChange={(e) => setAnswer(e.target.value)}
                          placeholder="Please enter answer..."
                        />
                      </div>
                      {/* error */}
                      {errorMessage && (
                        <p style={{ color: "red", fontWeight: "bold" }}>
                          {errorMessage}
                        </p>
                      )}
                    </div>
                    <div className={cx("submit-rating")}>
                      <button
                        className={cx("btn btn-primary")}
                        type="submit"
                        onClick={handleSubmit}
                      >
                        Submit
                      </button>
                    </div>
                  </div>
                </div>
                <div className={cx("student-feedback")}>
                  <h2 className={cx("title-feedback")}>Student Feedback</h2>
                  <div className={cx("rating-box")}>
                    <div className={cx("row")}>
                      <div className={cx("col-4")}>
                        <div className={cx("rating-box-left")}>
                          <h2 className={cx("title")}>4.5/5.0</h2>
                          <Rating name="read-only" value={value} readOnly />
                          <p className={cx("total-rating")}>
                            Total 3 Student Ratings
                          </p>
                        </div>
                      </div>
                      <div className={cx("col-8")}>
                        <div className={cx("rating-box-right")}>
                          <ul className={cx("progress")}>
                            {ratingCounts.map((count, index) => {
                              const percentage = (count / 20) * 100;
                              return (
                                <li key={index}>
                                  <span>
                                    <b>{5 - index} stars</b>
                                  </span>
                                  <div className={cx("progress-bar")}>
                                    <div
                                      className={cx("filled")}
                                      style={{ width: `${percentage}%` }}
                                    ></div>
                                  </div>
                                  <span className={cx("vote-count")}>
                                    <b> {count} votes</b>
                                  </span>
                                </li>
                              );
                            })}
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div className={cx("student-comment")}>
                  <h2 className={cx("title-comment")}>Comments</h2>
                  <ul className={cx("comment-list")}>
                    {comments.map((comment, index) => (
                      <li key={index} className={cx("comment-item")}>
                        <div className={cx("comment-header")}>
                          <h4 className={cx("user-name")}>
                            {comment.userName}
                          </h4>
                          <span className={cx("comment-date")}>
                            {new Date(comment.date).toLocaleDateString()}
                          </span>
                        </div>
                        <div className={cx("comment-body")}>
                          <Rating
                            name="read-only"
                            value={comment.rating}
                            readOnly
                            className={cx("comment-rating")}
                          />
                          <p className={cx("comment-text")}>{comment.text}</p>
                        </div>

                        {/* Display replies */}
                        {comment.replies.map((reply, replyIndex) => (
                          <div key={replyIndex} className={cx("comment-reply")}>
                            <div className={cx("comment-header")}>
                              <h4
                                className={cx(
                                  "user-name",
                                  reply.userName === "Instructor"
                                    ? "instructor"
                                    : ""
                                )}
                              >
                                {reply.userName}
                              </h4>
                              <span className={cx("comment-date")}>
                                {new Date(reply.date).toLocaleDateString()}
                              </span>
                            </div>
                            <div className={cx("comment-body")}>
                              <p className={cx("comment-text")}>{reply.text}</p>
                            </div>
                          </div>
                        ))}

                        {/* Reply input */}
                        <div className={cx("reply-input")}>
                          <input
                            type="text"
                            value={replyTexts[index] || ""}
                            placeholder="Write a reply..."
                            onChange={(e) => handleReplyChange(e, index)}
                            className={cx("reply-input-field")}
                          />
                          <button
                            onClick={() => handleReply(index)}
                            className={cx("reply-button")}
                          >
                            Reply
                          </button>
                        </div>
                      </li>
                    ))}
                  </ul>
                </div>
                {/* end student feed */}
              </div>
              <div className={cx("col-4", "sidebar")}>
                <div className={cx("add-course-details")}>
                  <div className={cx("discount")}>
                    <span>
                      <b>Old price:</b>{" "}
                      <strike className={cx("color-price")}>
                        1.299.000 VND
                      </strike>
                    </span>
                  </div>
                  <div className={cx("price")}>
                    <b>New Price:</b>
                    <span className={cx("color-price")}> 699.999 VND</span>
                  </div>
                  <div className={cx("button-add")}>
                    <button type="button">Add To Cart</button>
                  </div>
                  <div className={cx("time-add")}>
                    <FontAwesomeIcon icon={faClock} />
                    <span>
                      Thá»i lÆ°á»£ng: <b>06 giá» 21 phÃºt</b>
                    </span>
                  </div>
                  <div className={cx("sylabus-add")}>
                    <FontAwesomeIcon icon={faCirclePlay} />
                    <span>
                      GiÃ¡o trÃ¬nh: <b>06 giá» 21 phÃºt bÃ i giáº£ng</b>
                    </span>
                  </div>
                  <div className={cx("chapter-add")}>
                    <img src={chapter} alt="chapter" />
                    <span>
                      Chapter: <b>7 Chapter</b>
                    </span>
                  </div>
                  <div className={cx("lesson-add")}>
                    <img src={lesson} alt="lesson" />
                    <span>
                      Lesson: <b>7 Lesson</b>
                    </span>
                  </div>
                  <div className={cx("quizz-add")}>
                    <img src={quiz} alt="quizz" />
                    <span>
                      Quizz: <b>17 Quizz</b>
                    </span>
                  </div>

                  <div className={cx("time-add")}>
                    <FontAwesomeIcon icon={faClockRotateLeft} />
                    <span>Sá» há»¯u khÃ³a há»c trá»n Äá»i</span>
                  </div>
                  <div className={cx("benefits")}>
                    <FontAwesomeIcon icon={faCertificate} />
                    <span>Nháº­n chá»©ng chá» hoÃ n thÃ nh khÃ³a há»c</span>
                  </div>
                  <div className={cx("benefits")}>
                    <FontAwesomeIcon icon={faQuestionCircle} />
                    <span>Há» trá»£ trá»±c tiáº¿p tá»« giáº£ng viÃªn</span>
                  </div>
                  {/* DiscountCourse */}
                  <div className={cx("discount-course")}>
                    <div className={cx("discount-title")}>
                      <h3>Top discount courses</h3>
                    </div>
                    {courses.map((course) => (
                      <div key={course.id} className={cx("col-12")}>
                        <div className={cx("image-course")}>
                          <a
                            href="/course-details"
                            className={cx("image-header-course")}
                          >
                            <img src={course.image} alt="course1" />
                          </a>
                          <Link to="yeu-thich">
                            <Tippy
                              content="YÃªu thÃ­ch"
                              arrow={true}
                              theme="custom"
                            >
                              <div className={cx("heart-icon")}>
                                <FontAwesomeIcon icon={faHeart} />
                              </div>
                            </Tippy>
                          </Link>
                          <Tippy
                            content="LÆ°á»£t ÄÃ¡nh giÃ¡"
                            arrow={true}
                            theme="custom"
                          >
                            <div className={cx("rating-icon")}>
                              <FontAwesomeIcon icon={faStar} />
                              4.5 (120)
                            </div>
                          </Tippy>
                          <a href="programming" className={cx("category")}>
                            {course.Category}
                          </a>
                          <a href="/course-details">
                            <div className={cx("content-image")}>
                              <h5>{course.title}</h5>
                            </div>
                          </a>
                          <ul className={cx("list-info-course")}>
                            <li>
                              <img src={lessonv1} alt="lesson" />
                              {course.lesson} Lessons
                            </li>
                            <li>
                              <img src={durationtime} alt="time" />
                              {course.VideoTime} Minutes
                            </li>
                            <li>
                              <img src={student} alt="student" />
                              {course.Level}
                            </li>
                          </ul>
                          <div className={cx("border-bottom")}></div>
                          <a href="view-instructor">
                            <div className={cx("image-avatar")}>
                              <div className={cx("course-author")}>
                                <img
                                  src={course.instructor.image}
                                  alt="tuong"
                                />
                                <p>{course.instructor.name}</p>
                              </div>
                              <div className={cx("course-price")}>
                                <p className={cx("old-price")}>
                                  ${course.oldPrice}
                                </p>
                                <p className={cx("new-price")}>
                                  ${course.newPrice}
                                </p>
                              </div>
                            </div>
                          </a>
                        </div>
                      </div>
                    ))}
                  </div>
                  {/* End discountCourse */}
                </div>
              </div>
              <div className={cx("wrapper-relate-course")}>
                <RelateCourse />
              </div>
            </div>
          </div>
        </div>
      </div>
      <Footer />
    </div>
  );
}

export default ViewCourseDetails;
